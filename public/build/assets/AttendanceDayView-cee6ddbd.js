import{a as _,b,f as l,r as k,w as T,d as e,u as a,_ as r,Z as A,e as t,t as s,m as N,x as C,j as D,h as o,F as y,l as V,g as L,n as j,T as O,p as z,O as E}from"./app-2a4f3a7b.js";import{_ as M}from"./AuthenticatedLayout-141d2e43.js";import{_ as I}from"./FlexButton-84952de0.js";import{_ as R}from"./AttendanceTabs-abfbc4aa.js";import{S as v}from"./sweetalert2.all-494de4d5.js";import{P as Y}from"./PrimaryButton-b82710d7.js";import{_ as F}from"./Card-e6163c08.js";import{_ as H}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as P,a as u}from"./TableHead-697e45c6.js";import{_ as w}from"./TableBodyHeader-a5f9af14.js";import{_ as f,T as U}from"./TableRow-a1f2ea4d.js";import{a as W}from"./useAttendanceTypes-520aa62c.js";import{_ as Z}from"./TableBodyAction-ccaffae7.js";import{_ as q}from"./SearchBar-b295a77e.js";import"./GoBackNavLink-c5d56d1b.js";import"./Paginator-b9414001.js";const G={name:"TrashIcon"},J={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",class:"w-5 h-5 mr-2"},K=l("path",{"fill-rule":"evenodd",d:"M8.75 1A2.75 2.75 0 006 3.75v.443c-.795.077-1.584.176-2.365.298a.75.75 0 10.23 1.482l.149-.022.841 10.518A2.75 2.75 0 007.596 19h4.807a2.75 2.75 0 002.742-2.53l.841-10.52.149.023a.75.75 0 00.23-1.482A41.03 41.03 0 0014 4.193V3.75A2.75 2.75 0 0011.25 1h-2.5zM10 4c.84 0 1.673.025 2.5.075V3.75c0-.69-.56-1.25-1.25-1.25h-2.5c-.69 0-1.25.56-1.25 1.25v.325C8.327 4.025 9.16 4 10 4zM8.58 7.72a.75.75 0 00-1.5.06l.3 7.5a.75.75 0 101.5-.06l-.3-7.5zm4.34.06a.75.75 0 10-1.5-.06l-.3 7.5a.75.75 0 101.5.06l.3-7.5z","clip-rule":"evenodd"},null,-1),Q=[K];function X(i,c,d,p,B,h){return _(),b("svg",J,Q)}const $=H(G,[["render",X]]),ee={class:"py-8"},te={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},re={class:"card-header !mb-6"},ae={class:"flex justify-between items-center pb-4 gap-4"},se={class:"flex justify-center items-center inline"},oe={class:"w-full md:flex-1 md:max-w-md"},ne=["placeholder"],le=["onSubmit"],Be={__name:"AttendanceDayView",props:{attendanceList:Object,day:String,filters:Object},setup(i){var x;const c=i,d=k(((x=c.filters)==null?void 0:x.term)||"");let p=null;T(d,()=>{clearTimeout(p),p=setTimeout(()=>{E.visit(route("attendance.show",{date:c.day,term:d.value}),{preserveState:!0,preserveScroll:!0,replace:!0})},400)});const h={on_time:"bg-green-100 text-green-800 border-green-200",late:"bg-yellow-100 text-yellow-800 border-yellow-200",missed:"bg-red-100 text-red-800 border-red-200",leave:"bg-blue-100 text-blue-800 border-blue-200",unpaid_leave:"bg-purple-100 text-purple-800 border-purple-200",incomplete:"bg-gray-100 text-gray-800 border-gray-200",partial_present:"bg-orange-100 text-orange-800 border-orange-200"},S=()=>{v.mixin({customClass:{confirmButton:"mx-4 text-white bg-red-700 hover:bg-red-800 focus:outline-none focus:ring-4 focus:ring-red-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mr-2 mb-2 dark:bg-red-600 dark:hover:bg-red-700 dark:focus:ring-red-900",cancelButton:"text-white bg-purple-700 hover:bg-purple-800 focus:outline-none focus:ring-4 focus:ring-purple-300 font-medium rounded-full text-sm px-5 py-2.5 text-center mb-2 dark:bg-purple-600 dark:hover:bg-purple-700 dark:focus:ring-purple-900"},buttonsStyling:!1}).fire({title:r("Are you sure?"),text:r("You won't be able to revert this!"),icon:"warning",showCancelButton:!0,confirmButtonText:r("Yes, Delete!"),cancelButtonText:r("No, Cancel!"),reverseButtons:!0}).then(m=>{m.isConfirmed&&O({}).delete(route("attendance.destroy",{date:c.day}),{preserveScroll:!0,onError:()=>{z().error(r("Error Deleting Attendance"))},onSuccess:()=>{v.fire(r("Attendance Removed!"),"","success")}})})};return(g,m)=>(_(),b(y,null,[e(a(A),{title:a(r)("Attendance View")},null,8,["title"]),e(M,null,{tabs:t(()=>[e(R)]),default:t(()=>[l("div",ee,[l("div",te,[e(F,{class:"!mt-0"},{default:t(()=>[l("h1",re,s(a(r)("Attendance List for :day",{day:i.day})),1),l("div",ae,[l("div",se,[e(I,{href:g.route("attendances.create"),text:a(r)("Retake/Update Attendance")},{default:t(()=>[e($)]),_:1},8,["href","text"])]),l("div",oe,[e(q,null,{default:t(()=>[N(l("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=n=>d.value=n),class:"w-full pl-10 border-gray-300 rounded-lg shadow-sm focus:ring-indigo-500 focus:border-indigo-500",placeholder:a(r)("Search employee attendance...")},null,8,ne),[[C,d.value]])]),_:1})]),l("form",{onSubmit:D(S,["prevent"]),class:"flex justify-center items-center"},[e(Y,{class:"bg-red-600 hover:bg-red-700 focus:bg-red-500 active:bg-red-900"},{default:t(()=>[e($),o(" "+s(a(r)("Delete Day Attendance")),1)]),_:1})],40,le)]),e(P,{links:i.attendanceList.links,showingNumber:i.attendanceList.data.length,totalNumber:i.attendanceList.total},{Head:t(()=>[e(u,null,{default:t(()=>[o(s(a(r)("ID")),1)]),_:1}),e(u,null,{default:t(()=>[o(s(a(r)("Employee")),1)]),_:1}),e(u,null,{default:t(()=>[o(s(a(r)("Status")),1)]),_:1}),e(u,null,{default:t(()=>[o(s(a(r)("Sign In Time")),1)]),_:1}),e(u,null,{default:t(()=>[o(s(a(r)("Sign Off Time")),1)]),_:1}),e(u,null,{default:t(()=>[o(s(a(r)("Notes")),1)]),_:1}),e(u,null,{default:t(()=>[o(s(a(r)("Action")),1)]),_:1})]),Body:t(()=>[(_(!0),b(y,null,V(i.attendanceList.data,n=>(_(),L(U,{key:n.id},{default:t(()=>[e(w,null,{default:t(()=>[o(s(n.id),1)]),_:2},1024),e(w,null,{default:t(()=>[o(s(n.employee_name),1)]),_:2},1024),e(f,null,{default:t(()=>[l("span",{class:j(["px-2.5 py-0.5 rounded-full text-xs font-medium border",h[n.status]||"bg-gray-100 text-gray-800"])},s(a(W)[n.status]),3)]),_:2},1024),e(f,null,{default:t(()=>[o(s(n.sign_in_time),1)]),_:2},1024),e(f,null,{default:t(()=>[o(s(n.sign_off_time??a(r)("Haven't Sign Off Yet")),1)]),_:2},1024),e(f,null,{default:t(()=>[o(s(n.notes),1)]),_:2},1024),e(Z,{href:g.route("attendances.edit",{attendance:n.id})},{default:t(()=>[o(s(a(r)(" Edit")),1)]),_:2},1032,["href"])]),_:2},1024))),128))]),_:1},8,["links","showingNumber","totalNumber"])]),_:1})])])]),_:1})],64))}};export{Be as default};
