import{T as M,w as S,a as n,b as _,d as t,u as a,_ as r,Z as b,e as p,f as l,t as d,j as Y,m as c,v as f,F as D,l as x,i as m,k as y,h as C,C as g,p as k}from"./app-ed8fa722.js";import{_ as R}from"./AuthenticatedLayout-b0900d39.js";import{_ as i}from"./InputLabel-169502e4.js";import{_ as U}from"./TextInput-9a14af0f.js";import{_ as u}from"./InputError-3c55b147.js";import{P as q}from"./PrimaryButton-7737dff1.js";import{_ as L}from"./ReqTabs-0aaaa304.js";import{l as h}from"./vue-datepicker-2b2329b3.js";/* empty css             */import{_ as T}from"./Card-3b6a3666.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./GoBackNavLink-a71eb687.js";const $={class:"py-8"},j={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},F={class:"card-header !mb-4"},H=["onSubmit"],B={class:"grid grid-cols-2 gap-4"},E={value:""},N=["value"],I={key:0,class:"grid grid-cols-2 gap-4 mt-4"},W={value:""},P={value:"sick"},A={value:"casual"},O={value:""},Z={value:"full"},z={value:"half"},G={key:0},J=l("option",{value:""},"Select Half",-1),K=l("option",{value:"first half"}," First Half ",-1),Q=l("option",{value:"second half"}," Second Half ",-1),X=[J,K,Q],ee={key:1},ae={key:2},te={key:3},le={key:1,class:"mt-4"},se={class:"grid grid-cols-1 gap-4 mt-4"},oe={class:"flex items-center justify-end mt-4"},ge={__name:"RequestCreate",props:{types:Array},setup(V){const e=M({type:"",message:"",leave_type:"",leave_duration:"",half_leave_segment:"",half_leave_date:null,start_date:null,end_date:null,remote_work_date:null});S(()=>e.type,v=>{v!=="Leave"&&(e.leave_type=null,e.leave_duration=null,e.half_leave_date=null,e.half_leave_segment="",e.start_date=null,e.end_date=null),v!=="Remote Work"&&(e.remote_work_date=null)});const w=()=>{const v={type:e.type,message:e.message||null,leave_type:e.leave_type||null,leave_duration:e.leave_duration||null,half_leave_date:e.half_leave_date?g(e.half_leave_date).format("YYYY-MM-DD"):null,half_leave_segment:e.half_leave_segment||null,start_date:e.start_date?g(e.start_date).format("YYYY-MM-DD"):null,end_date:e.end_date?g(e.end_date).format("YYYY-MM-DD"):null,remote_work_date:e.remote_work_date?g(e.remote_work_date).format("YYYY-MM-DD"):null};e.post(route("requests.store"),v,{preserveScroll:!0,onError:s=>{s.past_leave?k().error(s.past_leave):k().error(Object.values(s)[0])},onSuccess:()=>{k().success(r("Request Created Successfully")),e.reset()}})};return(v,s)=>(n(),_(D,null,[t(a(b),{title:a(r)("Request Create")},null,8,["title"]),t(R,null,{tabs:p(()=>[t(L)]),default:p(()=>[l("div",$,[l("div",j,[t(T,{class:"!mt-0"},{default:p(()=>[l("h1",F,d(a(r)("Create a Request"))+" hello ",1),l("form",{onSubmit:Y(w,["prevent"])},[l("div",B,[l("div",null,[t(i,{value:"Type"}),c(l("select",{class:"fancy-selector","onUpdate:modelValue":s[0]||(s[0]=o=>a(e).type=o)},[l("option",E,d(a(r)("Choose Request Type")),1),(n(!0),_(D,null,x(V.types,o=>(n(),_("option",{key:o,value:o},d(o),9,N))),128))],512),[[f,a(e).type]]),t(u,{message:a(e).errors.type},null,8,["message"])])]),a(e).type==="Leave"?(n(),_("div",I,[l("div",null,[t(i,{value:"Leave Type"}),c(l("select",{class:"fancy-selector","onUpdate:modelValue":s[1]||(s[1]=o=>a(e).leave_type=o)},[l("option",W,d(a(r)("Select Leave Type")),1),l("option",P,d(a(r)("Sick Leave")),1),l("option",A,d(a(r)("Casual Leave")),1)],512),[[f,a(e).leave_type]]),t(u,{message:a(e).errors.leave_type},null,8,["message"])]),l("div",null,[t(i,{value:"Duration"}),c(l("select",{class:"fancy-selector","onUpdate:modelValue":s[2]||(s[2]=o=>a(e).leave_duration=o)},[l("option",O,d(a(r)("Select Duration")),1),l("option",Z,d(a(r)("Full Day")),1),l("option",z,d(a(r)("Half Day")),1)],512),[[f,a(e).leave_duration]]),t(u,{message:a(e).errors.leave_duration},null,8,["message"])]),a(e).leave_duration==="half"?(n(),_("div",G,[t(i,{value:"Half Segment"}),c(l("select",{class:"fancy-selector","onUpdate:modelValue":s[3]||(s[3]=o=>a(e).half_leave_segment=o)},X,512),[[f,a(e).half_leave_segment]]),t(u,{message:a(e).errors.half_leave_segment},null,8,["message"])])):m("",!0),a(e).leave_duration==="half"?(n(),_("div",ee,[t(i,{value:"Date"}),t(a(h),{modelValue:a(e).half_leave_date,"onUpdate:modelValue":s[4]||(s[4]=o=>a(e).half_leave_date=o),"enable-time-picker":!1,format:"yyyy-MM-dd","min-date":new Date,dark:y("isDark").value,placeholder:"Select Date"},null,8,["modelValue","min-date","dark"]),t(u,{message:a(e).errors.half_leave_date},null,8,["message"])])):m("",!0),a(e).leave_duration==="full"?(n(),_("div",ae,[t(i,{value:"Start Date"}),t(a(h),{modelValue:a(e).start_date,"onUpdate:modelValue":s[5]||(s[5]=o=>a(e).start_date=o),"enable-time-picker":!1,format:"yyyy-MM-dd","min-date":new Date,dark:y("isDark").value,placeholder:"Select Start Date"},null,8,["modelValue","min-date","dark"]),t(u,{message:a(e).errors.start_date},null,8,["message"])])):m("",!0),a(e).leave_duration==="full"?(n(),_("div",te,[t(i,{value:"End Date"}),t(a(h),{modelValue:a(e).end_date,"onUpdate:modelValue":s[6]||(s[6]=o=>a(e).end_date=o),"enable-time-picker":!1,format:"yyyy-MM-dd","min-date":a(e).start_date||new Date,dark:y("isDark").value,placeholder:"Select End Date"},null,8,["modelValue","min-date","dark"]),t(u,{message:a(e).errors.end_date},null,8,["message"])])):m("",!0)])):m("",!0),a(e).type==="Remote Work"?(n(),_("div",le,[t(i,{value:"Remote Work Date"}),t(a(h),{modelValue:a(e).remote_work_date,"onUpdate:modelValue":s[7]||(s[7]=o=>a(e).remote_work_date=o),"enable-time-picker":!1,format:"yyyy-MM-dd","min-date":new Date,dark:y("isDark").value,placeholder:"Select Date"},null,8,["modelValue","min-date","dark"]),t(u,{message:a(e).errors.remote_work_date},null,8,["message"])])):m("",!0),l("div",se,[l("div",null,[t(i,{value:"Message"}),t(U,{type:"text",class:"block w-full",modelValue:a(e).message,"onUpdate:modelValue":s[8]||(s[8]=o=>a(e).message=o),autocomplete:"off",placeholder:a(r)("I will be absent for 3 days because I'm sick.")},null,8,["modelValue","placeholder"]),t(u,{message:a(e).errors.message},null,8,["message"])])]),l("div",oe,[t(q,{disabled:a(e).processing},{default:p(()=>[C(d(a(r)("Initiate Request")),1)]),_:1},8,["disabled"])])],40,H)]),_:1})])])]),_:1})],64))}};export{ge as default};
