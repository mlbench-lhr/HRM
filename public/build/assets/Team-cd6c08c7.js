import{a as d,b as c,d as t,e,h as i,t as a,u as r,_ as s,F as g,r as w,O as k,w as x,Z as C,f as n,m as N,x as B,l as S,g as D}from"./app-bc190c63.js";import{_ as M}from"./AuthenticatedLayout-e7612e28.js";import{_ as L,a as b}from"./GoBackNavLink-23c814c4.js";import{_ as V}from"./SearchBar-82f6bc65.js";import{_ as j}from"./FlexButton-ef2eae22.js";import{d as A}from"./index-3863ad62.js";import{_ as O,a as p}from"./TableHead-9d1938c7.js";import{_ as T,T as E}from"./TableRow-1f88080d.js";import{_ as $}from"./TableBodyHeader-cfb74ca5.js";import{_ as F}from"./TableBodyAction-c4380478.js";import{_ as H}from"./Card-4fa6fb32.js";import{S as I}from"./sweetalert2.all-f07c82dc.js";import"./_plugin-vue_export-helper-c27b6911.js";import"./Paginator-e78e0661.js";const R={key:0,class:"space-x-8 rtl:space-x-reverse sm:flex"},U={key:1,class:"space-x-8 rtl:space-x-reverse sm:flex"},Y={__name:"TeamTabs",setup(_){return(l,h)=>(d(),c(g,null,[t(L),l.$page.props.auth.user.roles.includes("admin")?(d(),c("div",R,[t(b,{href:l.route("teams.index"),active:l.route().current("teams.index")||l.route().current("teams.show")||l.route().current("teams.edit")},{default:e(()=>[i(a(r(s)("All Teams")),1)]),_:1},8,["href","active"]),t(b,{href:l.route("teams.create"),active:l.route().current("teams.create")},{default:e(()=>[i(a(r(s)("Create New Team")),1)]),_:1},8,["href","active"])])):(d(),c("div",U,[t(b,{href:l.route("teams.index"),active:l.route().current("teams.index")||l.route().current("teams.show")},{default:e(()=>[i(a(r(s)("Teams List")),1)]),_:1},8,["href","active"])]))],64))}},Z={class:"py-8"},q={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},z={class:"card-header !mb-4"},G={class:"flex justify-between items-center gap-4 pb-4"},J=n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-5 h-5"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 4.5v15m7.5-7.5h-15"})],-1),K=["placeholder"],P={key:0,class:"px-2 py-1 bg-purple-100 text-purple-800 rounded-full text-xs"},Q={key:1,class:"text-gray-400 italic"},W={class:"px-6 py-4 whitespace-nowrap flex gap-4"},X=["onClick"],he={__name:"Team",props:{teams:Object},setup(_){const l=w(""),h=w("id"),f=w(!0),v=A(()=>{k.visit(route("teams.index",{term:l.value,sort:h.value,sort_dir:f.value}),{preserveState:!0,preserveScroll:!0})},400);x(l,v),x(h,v),x(f,v);const y=u=>{I.fire({title:s("Delete this team?"),text:s("All members will be unassigned from this team."),icon:"warning",showCancelButton:!0,confirmButtonText:s("Yes, delete"),cancelButtonText:s("Cancel"),reverseButtons:!0}).then(m=>{m.isConfirmed&&k.delete(route("teams.destroy",{team:u}),{preserveScroll:!0})})};return(u,m)=>(d(),c(g,null,[t(r(C),{title:r(s)("Teams")},null,8,["title"]),t(M,null,{tabs:e(()=>[t(Y)]),default:e(()=>[n("div",Z,[n("div",q,[t(H,{class:"!mt-0"},{default:e(()=>[n("h1",z,a(r(s)("Manage Teams")),1),n("div",G,[t(j,{href:u.route("teams.create"),text:r(s)("Create New Team")},{default:e(()=>[J]),_:1},8,["href","text"]),t(V,null,{default:e(()=>[N(n("input",{type:"text","onUpdate:modelValue":m[0]||(m[0]=o=>l.value=o),class:"input-class",placeholder:r(s)("Search teams...")},null,8,K),[[B,l.value]])]),_:1})]),t(O,{links:_.teams.links,showingNumber:_.teams.data.length,totalNumber:_.teams.total},{Head:e(()=>[t(p,{onClick:m[1]||(m[1]=o=>{h.value="id",f.value=!f.value}),sortable:""},{default:e(()=>[i(a(r(s)("ID"))+" ↕ ",1)]),_:1}),t(p,{onClick:m[2]||(m[2]=o=>{h.value="name",f.value=!f.value}),sortable:""},{default:e(()=>[i(a(r(s)("Team Name"))+" ↕ ",1)]),_:1}),t(p,null,{default:e(()=>[i(a(r(s)("Team Lead")),1)]),_:1}),t(p,null,{default:e(()=>[i(a(r(s)("Members")),1)]),_:1}),t(p,null,{default:e(()=>[i(a(r(s)("Action")),1)]),_:1})]),Body:e(()=>[(d(!0),c(g,null,S(_.teams.data,o=>(d(),D(E,{key:o.id},{default:e(()=>[t($,{href:u.route("teams.show",{id:o.id})},{default:e(()=>[i(a(o.id),1)]),_:2},1032,["href"]),t($,{href:u.route("teams.show",{id:o.id})},{default:e(()=>[i(a(o.name),1)]),_:2},1032,["href"]),t(T,{href:u.route("teams.show",{id:o.id})},{default:e(()=>[o.leader?(d(),c("span",P,a(o.leader.name),1)):(d(),c("span",Q,a(r(s)("No Lead")),1))]),_:2},1032,["href"]),t(T,{href:u.route("teams.show",{id:o.id})},{default:e(()=>[i(a(o.members_count||0)+" "+a(r(s)("Members")),1)]),_:2},1032,["href"]),n("td",W,[t(F,{href:u.route("teams.edit",{team:o.id}),class:"text-indigo-600 hover:text-indigo-900"},{default:e(()=>[i(a(r(s)("Edit")),1)]),_:2},1032,["href"]),n("button",{onClick:ee=>y(o.id),class:"text-red-600 hover:text-red-800 font-medium"},a(r(s)("Delete")),9,X)])]),_:2},1024))),128))]),_:1},8,["links","showingNumber","totalNumber"])]),_:1})])])]),_:1})],64))}};export{he as default};
