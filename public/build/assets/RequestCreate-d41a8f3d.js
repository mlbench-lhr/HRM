import{T as w,w as S,c as k,a as n,b as _,d as t,u as a,_ as d,Z as b,e as p,f as s,t as r,j as x,m as c,v as y,F as Y,l as C,i as v,k as g,h as R,C as u,p as D}from"./app-aed3c323.js";import{_ as U}from"./GoBackNavLink-8ac5723f.js";import{_ as i}from"./InputLabel-f5c8afcc.js";import{_ as L}from"./TextInput-9f3789e6.js";import{_ as m}from"./InputError-b1000662.js";import{P as q}from"./PrimaryButton-f2308064.js";import{_ as T}from"./ReqTabs-d0195dc8.js";import{l as h}from"./vue-datepicker-2e6ba27b.js";/* empty css             */import{_ as $}from"./Card-640919b8.js";import"./_plugin-vue_export-helper-c27b6911.js";const j={class:"py-8"},F={class:"max-w-7xl mx-auto sm:px-6 lg:px-8"},H={class:"card-header !mb-4"},B=["onSubmit"],E={class:"grid grid-cols-2 gap-4"},N={value:""},I=["value"],W={key:0,class:"grid grid-cols-2 gap-4 mt-4"},P={value:""},A={value:"sick"},O={value:"casual"},Z={value:""},z={value:"full"},G={value:"half"},J={key:0},K=s("option",{value:""},"Select Half",-1),Q=s("option",{value:"first half"}," First Half ",-1),X=s("option",{value:"second half"}," Second Half ",-1),ee=[K,Q,X],ae={key:1},te={key:2},le={key:3},se={key:1,class:"mt-4"},oe={class:"grid grid-cols-1 gap-4 mt-4"},de={class:"flex items-center justify-end mt-4"},ge={__name:"RequestCreate",props:{types:Array},setup(M){const e=w({type:"",message:"",leave_type:"",leave_duration:"",half_leave_segment:"",half_leave_date:null,start_date:null,end_date:null,remote_work_date:null});S(()=>e.type,f=>{f!=="Leave"&&(e.leave_type=null,e.leave_duration=null,e.half_leave_date=null,e.half_leave_segment="",e.start_date=null,e.end_date=null),f!=="Remote Work"&&(e.remote_work_date=null)}),k(()=>e.half_leave_date?u(e.half_leave_date).format("YYYY-MM-DD"):null),k(()=>e.start_date?u(e.start_date).format("YYYY-MM-DD"):null),k(()=>e.end_date?u(e.end_date).format("YYYY-MM-DD"):null);const V=()=>{let f=null;e.type==="Leave"&&(e.leave_duration==="half"?f=.5:e.leave_duration==="full"&&e.start_date&&e.end_date&&(f=u(e.end_date).diff(u(e.start_date),"day")+1));const o={type:e.type,message:e.message||null,leave_type:e.leave_type||null,leave_duration:f,half_leave_date:e.half_leave_date?u(e.half_leave_date).format("YYYY-MM-DD"):null,half_leave_segment:e.half_leave_segment||null,start_date:e.start_date?u(e.start_date).format("YYYY-MM-DD"):null,end_date:e.end_date?u(e.end_date).format("YYYY-MM-DD"):null,remote_work_date:e.remote_work_date?u(e.remote_work_date).format("YYYY-MM-DD"):null};e.post(route("requests.store"),o,{preserveScroll:!0,onError:l=>{l.past_leave?D().error(l.past_leave):D().error(Object.values(l)[0])},onSuccess:()=>{D().success(d("Request Created Successfully")),e.reset()}})};return(f,o)=>(n(),_(Y,null,[t(a(b),{title:a(d)("Request Create")},null,8,["title"]),t(U,null,{tabs:p(()=>[t(T)]),default:p(()=>[s("div",j,[s("div",F,[t($,{class:"!mt-0"},{default:p(()=>[s("h1",H,r(a(d)("Create a Request"))+" hello ",1),s("form",{onSubmit:x(V,["prevent"])},[s("div",E,[s("div",null,[t(i,{value:"Type"}),c(s("select",{class:"fancy-selector","onUpdate:modelValue":o[0]||(o[0]=l=>a(e).type=l)},[s("option",N,r(a(d)("Choose Request Type")),1),(n(!0),_(Y,null,C(M.types,l=>(n(),_("option",{key:l,value:l},r(l),9,I))),128))],512),[[y,a(e).type]]),t(m,{message:a(e).errors.type},null,8,["message"])])]),a(e).type==="Leave"?(n(),_("div",W,[s("div",null,[t(i,{value:"Leave Type"}),c(s("select",{class:"fancy-selector","onUpdate:modelValue":o[1]||(o[1]=l=>a(e).leave_type=l)},[s("option",P,r(a(d)("Select Leave Type")),1),s("option",A,r(a(d)("Sick Leave")),1),s("option",O,r(a(d)("Casual Leave")),1)],512),[[y,a(e).leave_type]]),t(m,{message:a(e).errors.leave_type},null,8,["message"])]),s("div",null,[t(i,{value:"Duration"}),c(s("select",{class:"fancy-selector","onUpdate:modelValue":o[2]||(o[2]=l=>a(e).leave_duration=l)},[s("option",Z,r(a(d)("Select Duration")),1),s("option",z,r(a(d)("Full Day")),1),s("option",G,r(a(d)("Half Day")),1)],512),[[y,a(e).leave_duration]]),t(m,{message:a(e).errors.leave_duration},null,8,["message"])]),a(e).leave_duration==="half"?(n(),_("div",J,[t(i,{value:"Half Segment"}),c(s("select",{class:"fancy-selector","onUpdate:modelValue":o[3]||(o[3]=l=>a(e).half_leave_segment=l)},ee,512),[[y,a(e).half_leave_segment]]),t(m,{message:a(e).errors.half_leave_segment},null,8,["message"])])):v("",!0),a(e).leave_duration==="half"?(n(),_("div",ae,[t(i,{value:"Date"}),t(a(h),{modelValue:a(e).half_leave_date,"onUpdate:modelValue":o[4]||(o[4]=l=>a(e).half_leave_date=l),"enable-time-picker":!1,format:"yyyy-MM-dd","min-date":new Date,dark:g("isDark").value,placeholder:"Select Date"},null,8,["modelValue","min-date","dark"]),t(m,{message:a(e).errors.half_leave_date},null,8,["message"])])):v("",!0),a(e).leave_duration==="full"?(n(),_("div",te,[t(i,{value:"Start Date"}),t(a(h),{modelValue:a(e).start_date,"onUpdate:modelValue":o[5]||(o[5]=l=>a(e).start_date=l),"enable-time-picker":!1,format:"yyyy-MM-dd","min-date":new Date,dark:g("isDark").value,placeholder:"Select Start Date"},null,8,["modelValue","min-date","dark"]),t(m,{message:a(e).errors.start_date},null,8,["message"])])):v("",!0),a(e).leave_duration==="full"?(n(),_("div",le,[t(i,{value:"End Date"}),t(a(h),{modelValue:a(e).end_date,"onUpdate:modelValue":o[6]||(o[6]=l=>a(e).end_date=l),"enable-time-picker":!1,format:"yyyy-MM-dd","min-date":a(e).start_date||new Date,dark:g("isDark").value,placeholder:"Select End Date"},null,8,["modelValue","min-date","dark"]),t(m,{message:a(e).errors.end_date},null,8,["message"])])):v("",!0)])):v("",!0),a(e).type==="Remote Work"?(n(),_("div",se,[t(i,{value:"Remote Work Date"}),t(a(h),{modelValue:a(e).remote_work_date,"onUpdate:modelValue":o[7]||(o[7]=l=>a(e).remote_work_date=l),"enable-time-picker":!1,format:"yyyy-MM-dd","min-date":new Date,dark:g("isDark").value,placeholder:"Select Date"},null,8,["modelValue","min-date","dark"]),t(m,{message:a(e).errors.remote_work_date},null,8,["message"])])):v("",!0),s("div",oe,[s("div",null,[t(i,{value:"Message"}),t(L,{type:"text",class:"block w-full",modelValue:a(e).message,"onUpdate:modelValue":o[8]||(o[8]=l=>a(e).message=l),autocomplete:"off",placeholder:a(d)("I will be absent for 3 days because I'm sick.")},null,8,["modelValue","placeholder"]),t(m,{message:a(e).errors.message},null,8,["message"])])]),s("div",de,[t(q,{disabled:a(e).processing},{default:p(()=>[R(r(a(d)("Initiate Request")),1)]),_:1},8,["disabled"])])],40,B)]),_:1})])])]),_:1})],64))}};export{ge as default};
